
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Sciences de l'Ingénieur en classe de première au lycée Notre Dame du Mur de MORLAIX.">
      
      
        <meta name="author" content="Eric MADEC">
      
      
        <link rel="canonical" href="https://ericecmorlaix.github.io/1SI_2024-2025/Projets/Robotique/">
      
      
      
      
      <link rel="icon" href="../../images/LogoIO-blue.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>La robotique - 1SI_2024-2025</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#la-robotique" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../.." title="1SI_2024-2025" class="md-header__button md-logo" aria-label="1SI_2024-2025" data-md-component="logo">
      
  <img src="../../images/LogoIO.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            1SI_2024-2025
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              La robotique
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Basculer en mode sombre"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Basculer en mode sombre" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Basculer en mode clair"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Basculer en mode clair" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ericECmorlaix/1SI_2024-2025" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    1SI_2024-2025
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Onglets" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Cahier de texte

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../ressources/" class="md-tabs__link">
        
  
  
    
  
  Ressources

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="1SI_2024-2025" class="md-nav__button md-logo" aria-label="1SI_2024-2025" data-md-component="logo">
      
  <img src="../../images/LogoIO.png" alt="logo">

    </a>
    1SI_2024-2025
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ericECmorlaix/1SI_2024-2025" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    1SI_2024-2025
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cahier de texte
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ressources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ressources
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="la-robotique">La robotique<a class="headerlink" href="#la-robotique" title="Permanent link">&num;</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&num;</a></h2>
<details class="abstract">
<summary>Histoire de robots : ...</summary>
<p><center>
<iframe frameborder="0" width="720" height="405"  src="https://www.dailymotion.com/embed/video/x2u6uxc" allowfullscreen="" allow="autoplay"></iframe>
</center></p>
</details>
<details class="abstract">
<summary>Evolution technologique de l'unité de traitement : ...</summary>
<p>Un système technique (automatisme, robot, objet connecté (IoT), système embarqué...) peut-être représenté par sa chaîne d'information et sa chaîne d'énergie tel que :</p>
<p><center><img src="https://ericecmorlaix.github.io/img/AnalyseSystemique-GlobaleFocusTraiter.svg" alt="Focus sur la chaine d'information"></center></p>
<p>Dans un projet de robotique, le composant à programmer est celui qui réalise la fonction <strong>traiter</strong>.</p>
<p>C'est dans ce domaine que les solutions ont particulièrement évolué ces dernières années :<br />
Les progrès en automatisme industriel et en robotique sont intimmement liés aux évolutions de l'informatique générale et à celle des ordinateurs en particulier. Ce sont des branches cousines qui suivent des évolutions parallèles avec souvent un décalage temporel inhérent aux besoins de développer des solutions fiables et robustes à coût réduit.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/Sequenceur_a_cames.jpg" width="80%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/sequenceur.png" width="85%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/Relais.jpg" width="60%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/lampe.jpg" width="60%"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Séquenceur à cames</td>
<td style="text-align: center;">Séquenceur pneumatique</td>
<td style="text-align: center;">Relais</td>
<td style="text-align: center;">Tubes à vide</td>
</tr>
</tbody>
</table>
<p>Les solutions mécaniques (cames), pneumatiques (séquenceur), électriques (relais), ont laissé la place à celles électroniques des tubes à vide, remplacés par des <a href="https://fr.wikipedia.org/wiki/Transistor" target="_blank">transistors</a> à partir du milieu des années 1950 eux mêmes miniturisés dans des <a href="https://fr.wikipedia.org/wiki/Circuit_int%C3%A9gr%C3%A9" target="_blank">circuits intégrés</a> (1958) et dans les <a href="https://fr.wikipedia.org/wiki/Microprocesseur" target="_blank">microprocesseurs</a> (1969).</p>
<p><center><img src="https://ericecmorlaix.github.io/img/TI_TMS1000.jpg" width="55%"></center></p>
<p>Les premiers microcontrôleurs apparaisent dans les années 70, Texas Instrument, son inventeur, commercialise à partir de 1974 les <a href="https://en.wikipedia.org/wiki/Texas_Instruments_TMS1000" target="_blank">TMS1000</a> mais c'est depuis la fin des années 90 qu'ils se sont développés de manière spectaculaire.</p>
<p><center><img src="https://ericecmorlaix.github.io/img/architecture_%C2%B5C_base.png" width="75%"></center></p>
<p>Un <a href="https://fr.wikipedia.org/wiki/Microcontr%C3%B4leur" target="_blank">microcontrôleur</a> est en quelque sorte un ordinateur miniaturisé et simplifié généralement dédié à une application de traitement de l'information dans un système embarqué (clavier, souris, automobile, calculatrice, électroménagé, jeux, ...)  Il inclut, sur une même puce, à minima, un microprocesseur, de la mémoire ROM et RAM, une interface entrées/sorties (GPIO, General Purpose Input/Output) et selon le cas d'autres modules tels qu'un oscillateur, un convertisseur analogique numérique (CAN), un Timer, de la mémoire flash, EPROM ou EEPROM, des générateurs de signaux MLI (PWM), des controleurs de communication UART, SPI, I2C, radio, Bluetooth, Wifi...</p>
<details class="tip">
<summary>"Flasher" ? ...</summary>
<p><center><img src="https://ericecmorlaix.github.io/img/sourisLogitec_%C2%B5C.png" width="40%"></center></p>
<p>On observe sur le boitier de ce microcontrôleur la fenêtre qui permetait par insolation de rayons UV d'effacer l'EPROM, Ereasable Programmable Read Only Memory. Cette mémoire possède les mêmes propriétés que la ROM sauf que l'on peut l'effacer pour la reprogrammer. L'EPROM est accessible en lecture uniquement, et contient généralement le programme à exécuter.</p>
<blockquote>
<p>C'est de là que viendrait le verbe <strong>"flasher"</strong> synonyme de téléverser un programme dans le microcontroleur.<br />
Aujourd'hui on continue donc à "flasher" mais de l'EEPROM : Electrically Ereasable Programmable Read Only Memory.</p>
</blockquote>
</details>
<details class="abstract" open="open">
<summary>Arduino : ...</summary>
<p>Il était encore complexe et coûteux de mettre en œuvre un microcontrôleur au début des années 2000. L'arrivée de cartes à microcontrôleur telles que l'Arduino à partir de 2005 a grandement simplifié la chose. Cela ne nécessite alors que du matériel peu coûteux, environ 20€ pour la carte la plus populaire qu'est l'Arduino Uno R3 basée sur l'ATmega328. Un simple PC suffit pour le développement du programme en langage C.</p>
<p><center><img src="https://ericecmorlaix.github.io/img/Arduino_Uno-R3.jpg" width="45%"></center></p>
</details>
<details class="abstract" open="open">
<summary>Raspberry PI : ...</summary>
<p>En 2012 l'ordinateur à carte unique Raspberry PI, un <a href="https://en.wikipedia.org/wiki/Single-board_computer" target="_blank">Single Board Computer</a> low cost, avec son <a href="https://fr.wikipedia.org/wiki/General_Purpose_Input/Output" target="_blank">GPIO</a> vient concurrencer les cartes à microcontrôleur pour des applications qui requièrent un interfaçage vers des appareils simples mais avec plus de capacité de calcul. Le langage de programmation privilégié sur cette plateforme est Python.</p>
<blockquote>
<p>Le processeur du Raspberry PI est également monté sur une puce (<a href="https://en.wikipedia.org/wiki/System_on_a_chip" target="_blank">SoC</a>) plus coûteux et énergivore qu'un simple microcontrôleur il intègre plus de fonctionnalités : <a href="https://www.geeksforgeeks.org/difference-between-mcu-and-soc/" target="_blank">MCU vs SOC</a>.  </p>
</blockquote>
<p><center><img src="https://ericecmorlaix.github.io/img/Raspberry_Pi_Model_B.jpg" width="45%"></center></p>
</details>
<details class="abstract" open="open">
<summary>MicrPython : ...</summary>
<p>Depuis 2013, l'augmentation des capacités de certains microcontrôleur permet de les programmer également en <a href="https://github.com/micropython" target="_blank">MicroPython</a> une version allégée de Python 3 créée par <a href="https://github.com/dpgeorge" target="_blank">Damien George</a></p>
<p>C'est le cas des cartes BBC micro:bit V1 et V2, du Circuit Playground Express (CPX), des ESP8266 et ESP32.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/bbcmicrobit.gif" width="95%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/ESP8266.jpg" width="95%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/CPX.gif" width="95%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/lolin32.jpg" width="95%"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><a href="https://tech.microbit.org/hardware/">BBC micro:bit</a></td>
<td style="text-align: center;"><a href="https://wiki.wemos.cc/products:d1:d1_mini">Wemos ESP8266</a></td>
<td style="text-align: center;"><a href="https://www.adafruit.com/product/3333">Adafruit CPX</a></td>
<td style="text-align: center;"><a href="https://wiki.wemos.cc/products:lolin32:lolin32">Wemos ESP32</a></td>
</tr>
</tbody>
</table>
</details>
<p>Les microcontrôleurs sont donc devenus des composants électronique incontournables, modifiant profondément la manière de concevoir les circuits électroniques des systèmes embarqués et des objets connectés.</p>
<blockquote>
<p><em>" Les objets qui sont dotés d'un microcontrôleur embarqué, éventuellement en réseau, deviennent enchantés de la même façon que les objets des mondes magiques : il suffit de leur donner des ordres. Comme dans les histoires de magie, il est impératif d'apprendre comment réalise les incantations pour que les objets enchantés se plient à votre volonté.</em></p>
<p><em>Et c'est ici qu'entre en jeu le langage MicroPython "</em></p>
<p>Extrait du livre de Nicholas H. Tollervey, Programming with MicroPython.</p>
</blockquote>
<details class="info" open="open">
<summary>Autres cartes : ...</summary>
<table>
<thead>
<tr>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/Calliope.jpg" width="95%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/M5.jpg" width="95%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/halocode.png" width="95%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/Tiny2040.jpg" width="80%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/PI_Pico_W.jpg" width="50%"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><a href="https://en.wikipedia.org/wiki/Calliope_mini">CALLIOPE</a></td>
<td style="text-align: center;"><a href="https://m5stack.com/">m5stack</a></td>
<td style="text-align: center;"><a href="https://www.makeblock.com/steam-kits/halocode">HALOCODE</a></td>
<td style="text-align: center;"><a href="https://www.raspberrypi.com/documentation/microcontrollers/rp2040.html">Tiny 2040</a></td>
<td style="text-align: center;"><a href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html">Raspberry Pi Pico</a></td>
</tr>
</tbody>
</table>
<hr />
<blockquote>
<p>Sortie en novembre 2020, le Raspberry Pi 400  inclut un ordinateur complet dans un clavier. Cette idée n'est pas nouvelle, elle s'inspire des  machines des années 80 telles que le <a href="https://fr.wikipedia.org/wiki/BBC_Micro" target="_blank">BBC micro</a> :</p>
<p><center><img src="https://images.prismic.io/rpf-products/877421eb-1c8f-4698-853e-9bf664e9b061_400%20Desktop%20KIt%20Main.jpg" width="40%">
<figcaption><a href="https://www.01net.com/actualites/raspberry-pi-400-le-mini-ordinateur-se-glisse-enfin-dans-un-clavier-2000549.html" target="_blank">Le Nouveau Raspberry Pi 400 : un mini-ordinateur dans un clavier !</a></figcaption></center> </p>
</blockquote>
</details>
</details>
<h2 id="applications-sur-bbc-microbit">Applications sur BBC micro:bit<a class="headerlink" href="#applications-sur-bbc-microbit" title="Permanent link">&num;</a></h2>
<center><img src="https://ericecmorlaix.github.io/img/bbcmicrobit.gif" width="70%"></center>

<blockquote>
<p><strong>Prérequis</strong> :  <a href="https://ericecmorlaix.github.io/adn-Tutoriel_lab_si/IOT/BBC_microbit/" target="_blank">Savoir programmer un BBC micro:bit</a></p>
</blockquote>
<p>Le point de vue du programmeur en robotique concerne donc l'unité de traitement qui reçoit des informations électriques en <strong>entrées</strong> et en émet en <strong>sortie</strong> :</p>
<center><img src="https://ericecmorlaix.github.io/img/traiter.svg" width="50%"></center>

<details class="abstract">
<summary>Les broches</summary>
<p>Il y a 25 connecteurs en cuivre sur la tranche du bas de la carte BBC micro:bit. Ce sont des Entrées/Sorties qui permettent au micro:bit d'interagir avec son environnement en s'y connectant physiquement.</p>
<p>Le BBC micro:bit dispose de 19 broches qui peuvent être utiliser en tant que :</p>
<ul>
<li>sortie pour faire fonctionner des <strong>actionneurs</strong> tels qu'une LED, un moteur ou encore un buzzer...</li>
<li>entrée logique pour faire fonctionner des <strong>capteurs</strong> tels qu'une fourche optique, un Interrupteur à Lame Souple, un contact de fin de course, un bouton poussoir...</li>
</ul>
<p>Chacunes est associées à un objet <code>pinN</code>, instance de la class <code>pin</code>, ou <code>N</code>correspond au numéro attribué à la broche de 0 à 16 ainsi que 19 et 20.</p>
<p><center><img src="https://microbit-micropython.readthedocs.io/en/v1.0.1/_images/pinout.png" alt="Broches" width=50%></center></p>
<div class="admonition warning">
<p class="admonition-title">Partage de broches</p>
<p>Si ces broches sont utilisées en tant qu'entrée/sortie externes alors leurs autres fonctionnalités internes potentielles ne seront pas disponibles simultannément.</p>
<p>Par exemple les broches <code>pin3</code>, <code>pin4</code>, <code>pin6</code>, <code>pin7</code>, <code>pin9</code> et <code>pin10</code> sont également raccordées à la matrice de LEDs, il faudra donc <a href="https://microbit-micropython.readthedocs.io/en/latest/display.html#microbit.display.off" target="_blank">désactiver l'affichage</a> afin de les libérer pour autre chose : <code>microbit.display.off()</code>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Raccordement</p>
<p>Pour pouvoir utiliser ces broches il faut les raccorder physiquement à d'autres composants électoniques par l'intermédiaire de fils à connecteur bannane ou à pince crocodile ou encore avec des straps sur une platine d'essais via un connecteur...</p>
<p><center><img src="https://ericecmorlaix.github.io/img/breadbit.png" width="50%"></center>
<center><figcaption><a href="https://perso.crans.org/geneau/NewCligne/ressources/03_La_platine_essais.html" target="_blank">breadboard</a></figcaption></center></p>
</div>
</details>
<h3 id="sortie-logique">Sortie logique<a class="headerlink" href="#sortie-logique" title="Permanent link">&num;</a></h3>
<details class="abstract" open="open">
<summary><strong>Tout Ou Rien (TOR), digital output</strong> : ...</summary>
<p>Les niveaux électriques des broches du BBC micro:bit ne peuvent être mis qu'à <span class="arithmatex">\(0\;\mathrm{V}\)</span> ou à <span class="arithmatex">\(3,3\;\mathrm{V}\)</span>. Ce qui correspond respectivement aux valeurs <code>0</code> ou <code>1</code> :</p>
<ul>
<li>mettre la broche <code>N</code> au potentiel <span class="arithmatex">\(0\;\mathrm{V}\)</span> :
<div class="highlight"><pre><span></span><code><span class="n">pinN</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></li>
<li>mettre la broche <code>N</code> au potentiel <span class="arithmatex">\(3,3\;\mathrm{V}\)</span> :
<div class="highlight"><pre><span></span><code><span class="n">pinN</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></li>
</ul>
</details>
<details class="example">
<summary>Application : <code>Hello World !</code> spécial robotique</summary>
<details class="quote">
<summary><code>Hello world !</code> ? ...</summary>
<p>Le premier programme que réalise tout apprenti informaticien est le fameux <a href="https://fr.wikipedia.org/wiki/Hello_world">Hello World!</a>... Celà permet avec un programme minimal de prendre en main un langage et surtout de s'assurer du bon fonctionnement de l'environnement de développement choisi <a href="https://fr.wikipedia.org/wiki/Environnement_de_d%C3%A9veloppement">IDE</a>.</p>
</details>
<p><strong>Raccorder</strong> une LED sur la sortie <code>P0</code> tel que sur les circuit et schéma ci-dessous puis <strong>programmer</strong> un allumage alternatif à la fréquence de 1Hz.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/LED+R_BreadBooardDeBasePourBBCmicro_bit.png" width="80%"></th>
<th style="text-align: center;"><img src="https://ericecmorlaix.github.io/img/LED+R_BreadBooardDeBasePourBBCmicro_bit_schema.png" width="60%"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Circuit</td>
<td style="text-align: center;">Schéma</td>
</tr>
</tbody>
</table>
<details class="tip">
<summary>Gérer le temps : ...</summary>
<p>La fonction <code>sleep(t)</code> met en pause l’exécution pendant t millisecondes.<br />
Exemple : <code>sleep(1000)</code> suspend l’exécution pendant 1 seconde.</p>
</details>
<details class="tip">
<summary>Répéter indéfiniment : ...</summary>
<p>Les instructions placées dans une boucle <code>while True :</code> seront répétées tant que le microcontrôleur restera sous tension.</p>
</details>
<details class="question">
<summary>Limiter le courant dans la LED</summary>
<ul>
<li>Sachant que la sortie <code>P0</code> délivre au maximum une tension de <span class="arithmatex">\(3,3\;\mathrm{V}\)</span>, <strong>calculer</strong> la résistance R1 minimale afin de limiter le courant dans la <a href="https://www.framboiseetcompagnie.fr/fiche-n4-les-bases-de-lelectronique-les-leds/" target="_blank">LED</a> à <span class="arithmatex">\(20\;\mathrm{mA}\)</span> pour une tension de <span class="arithmatex">\(2\;\mathrm{V}\)</span> à ses bornes.</li>
</ul>
<details class="info">
<summary>Réponse : ...</summary>
</details>
<hr />
<ul>
<li>La valeur réelle retenue pour la résistance R1 est ici de <span class="arithmatex">\(220\;\mathrm{\Omega}\)</span>, en <strong>déduire</strong> l'intensité du courant dans la LED.</li>
</ul>
<details class="info">
<summary>Réponse : ...</summary>
<details class="warning">
<summary>Courant et tension aux bornes d'une LED : ...</summary>
<p>En fait, c'est un peu plus compliqué car la tension aux bornes d'une LED n'est pas fixe et égal à <span class="arithmatex">\(2\;\mathrm{V}\)</span> mais elle varie également en fonction du courant et du type de LED :</p>
<p><a href="https://www.framboiseetcompagnie.fr/fiche-n4-les-bases-de-lelectronique-les-leds/" target="_blank"><img alt="" src="https://www.framboiseetcompagnie.fr/wp-content/uploads/2021/10/word-image-39.png" /></a></p>
</details>
</details>
</details>
<details class="success">
<summary>Solution de programme MicroPython</summary>
</details>
</details>
<h3 id="sortie-pseudo-analogique">Sortie pseudo-analogique<a class="headerlink" href="#sortie-pseudo-analogique" title="Permanent link">&num;</a></h3>
<details class="abstract" open="open">
<summary><strong>Modulation de Largeur d'Impulsion (MLI), Pulse Width Modulation (PWM), analog output</strong> : ...</summary>
<p>Même si les broches du BBC micro:bit ne peuvent être mises qu'aux potentiels <span class="arithmatex">\(0\;\mathrm{V}\)</span> ou <span class="arithmatex">\(3,3\;\mathrm{V}\)</span>, il est possible de faire croire au composant raccordé qu'il est alimenté sous une tension comprise entre <span class="arithmatex">\(0\;\mathrm{V}\)</span> et <span class="arithmatex">\(3,3\;\mathrm{V}\)</span>.</p>
<p>La technique s'appelle la <strong>Modulation de Largeur d'Impulsion (MLI)</strong>, Pulse Width Modulation (PWM) en Anglais.<br />
Le principe consiste à générer un signal pseudo-périodique qui met à <code>1</code> la sortie sur une portion (<span class="arithmatex">\(t_h\)</span>) de la période (<span class="arithmatex">\(T\)</span>) du signal.</p>
<p><center><img src="https://ericecmorlaix.github.io/img/PWM0.png" width="40%"></center></p>
<p>On appelle rapport cyclique le ratio <span class="arithmatex">\(\alpha = {t_h \over T}\)</span>. Ainsi le composant connecté à une sortie PWM aura l'impression d'être alimenter en moyenne sous une tension telle que <span class="arithmatex">\(V_{MOY} = \alpha \times 3,3\)</span> </p>
<p><center><img src="https://ericecmorlaix.github.io/img/PWM.png" width="80%"></center></p>
<p>Ainsi, dans l'instruction suivante <code>valeur</code> est telle que <span class="arithmatex">\(\alpha = {{valeur \times 100} \over 1023}\)</span>. Une valeur à <code>0</code> correspond à <span class="arithmatex">\(\alpha = 0\)</span>% et à une tension de <span class="arithmatex">\(0\;\mathrm{V}\)</span> en sortie, une valeur à <code>511</code> correspond à <span class="arithmatex">\(\alpha = 50\)</span>% et à une tension de <span class="arithmatex">\(1,65\;\mathrm{V}\)</span> en sortie et une valeur à <code>1023</code> correspond à <span class="arithmatex">\(\alpha = 100\)</span>% et à une tension de <span class="arithmatex">\(3,3\;\mathrm{V}\)</span> en sortie.</p>
<div class="highlight"><pre><span></span><code><span class="n">pinN</span><span class="o">.</span><span class="n">write_analog</span><span class="p">(</span><span class="n">valeur</span><span class="p">)</span>
</code></pre></div>
<details class="tip">
<summary>Régler la pseudo-période du signal PWM : ...</summary>
<p>La durée de la pseudo-période est choisie suffisamment petite par rapport au temps de réaction de l'oeil humain dans le cas d'une LED ou, de l'inertie du composant électrique piloté par cette broche dans le cas d'un moteur par exemple.</p>
<p>Il est possible de régler la pseudo-période du signal PWM,</p>
<ul>
<li>soit en millisecondes (1ms minimum) :</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">set_analog_period</span><span class="p">(</span><span class="n">period</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>soit en microseconde (254µs minimum) :</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">set_analog_period</span><span class="p">(</span><span class="n">period</span><span class="p">)</span>
</code></pre></div>
</details>
<div class="admonition warning">
<p class="admonition-title">Attention</p>
<p>Le BBC micro:bit ne peux gérer qu'un maximum de trois sorties en PWM simultannément.</p>
</div>
</details>
<details class="example">
<summary>Application : variation d'intensité</summary>
<p><strong>Raccorder</strong> une LED sur la sortie <code>P0</code> et <strong>programmer</strong> un allumage progressif en intensité sur 5 secondes à partir de l'initialisation de la carte ( = une rampe de démarrage). Puis la LED s'éteint instantannément après 6 secondes...</p>
<details class="tip">
<summary>Répéter X fois : ...</summary>
<p>Les instructions placées dans une boucle <code>for valeur in range(256) :</code> seront répétées 256 fois et la variable de boucle <code>valeur</code> prendra successivement les valeurs de 0 à 255.</p>
</details>
<div class="admonition tip">
<p class="admonition-title">Il faut appuyer sur le bouton <code>Reset</code> pour réinitialiser la carte.</p>
</div>
<details class="success">
<summary>Solution de programme MicroPython</summary>
</details>
</details>
<h3 id="piloter-des-moteurs">Piloter des Moteurs<a class="headerlink" href="#piloter-des-moteurs" title="Permanent link">&num;</a></h3>
<details class="abstract" open="open">
<summary>Régler la vitesse et le sens : ...</summary>
<p>La fréquence de rotation d'un moteur à courant continu dépendant de sa tension d'alimentation, une sortie pseudo-analogique permet de régler sa vitesse par Modulation de Largeur d'Impulsion (MLI).</p>
<div class="highlight"><pre><span></span><code><span class="n">pin0</span><span class="o">.</span><span class="n">write_analog</span><span class="p">(</span><span class="n">vitesse</span><span class="p">)</span> <span class="c1"># avec vitesse allant de 0 à 1023</span>
</code></pre></div>
<p>Une sortie logique permet de commander son sens de rotation qui dépend de la polarité de son alimentation.</p>
<div class="highlight"><pre><span></span><code><span class="n">pin8</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="n">sens</span><span class="p">)</span> <span class="c1"># sens = 0 =&gt; avance, sens = 1 =&gt; recule</span>
</code></pre></div>
<details class="tip">
<summary>Pont en H : ...</summary>
<p><center><img src="https://arduino.blaisepascal.fr/wp-content/uploads/2017/05/Pont_H_schema1.png" width="23%" ><img src="https://arduino.blaisepascal.fr/wp-content/uploads/2017/05/Pont_H_schema2.png" width="23%" ><img src="https://arduino.blaisepascal.fr/wp-content/uploads/2017/05/Pont_H_schema3.png" width="23%" ></center></p>
<p>Le circuit électrique nommé "pont en H" permet d'inverser la polarité de l'alimentation d'un moteur tel que représenté ci-dessus.</p>
<p>Le <a href="https://4tronix.co.uk/blog/?p=2317" target="_blank">Bit:Bot</a> et le <a href="https://4tronix.co.uk/blog/?p=1832" target="_blank">Robot:Bit MK3</a> dispose comme la carte <a href="https://ericecmorlaix.github.io/adn-Tutoriel_lab_si/IOT/BBC_microbit/MotorBit/" target="_blank">Motor:Bit</a> d'un circuit intégrer (TB6612) à double pont en H permettant d'alimenter notamment deux Moteurs à Courant Continu (MCC). </p>
</details>
</details>
<details class="example">
<summary>Application : piloter un moteur</summary>
<p><strong>Enficher</strong> une carte BBC micro:bit dans un <a href="https://4tronix.co.uk/blog/?p=2317" target="_blank">Bit:Bot</a>, un <a href="https://4tronix.co.uk/blog/?p=1832" target="_blank">Robot:Bit MK3</a> ou une carte <a href="https://ericecmorlaix.github.io/adn-Tutoriel_lab_si/IOT/BBC_microbit/MotorBit/" target="_blank">Motor:Bit</a> afin de <strong>programmer</strong> une séquence de rotation du moteur gauche pour une durée de 2 secondes vers l'avant puis 2 seconde vers l'arrière à une vistesse "moyenne".</p>
<details class="tip">
<summary>Fonction : ...</summary>
<p>Une fonction permet de regrouper des instructions pour les rappeler eensuite à loisir dans un programme avec éventuellement des paramètres variables :</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">microbit</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span><span class="w"> </span><span class="nf">avance</span><span class="p">(</span><span class="n">vitesse</span><span class="p">,</span> <span class="n">duree</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">pin0</span><span class="o">.</span><span class="n">write_analog</span><span class="p">(</span><span class="n">vitesse</span><span class="p">)</span>
    <span class="n">pin8</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="n">duree</span><span class="p">)</span>

<span class="n">avance</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>    
<span class="n">avance</span><span class="p">(</span><span class="mi">223</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">avance</span><span class="p">(</span><span class="mi">423</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">avance</span><span class="p">(</span><span class="mi">623</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">avance</span><span class="p">(</span><span class="mi">823</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">avance</span><span class="p">(</span><span class="mi">1023</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">avance</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p><strong>Expérimenter</strong> ce code puis <strong>compléter</strong> le d'une fonction <code>recule(vitesse, duree)</code>    </p>
</details>
<details class="success">
<summary>Solution de programme MicroPython</summary>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">microbit</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">On observe qu'en reculant, <code>pin0.write_analog(0)</code> produit la plus grande vitesse</p>
</div>
</details>
<details class="example">
<summary>Application : piloter deux moteurs</summary>
<p><strong>Rechercher</strong> dans la documentation du <a href="https://4tronix.co.uk/blog/?p=2317" target="_blank">Bit:Bot</a>, du <a href="https://4tronix.co.uk/blog/?p=1832" target="_blank">Robot:Bit MK3</a> ou de la carte <a href="https://ericecmorlaix.github.io/adn-Tutoriel_lab_si/IOT/BBC_microbit/MotorBit/" target="_blank">Motor:Bit</a> les n° de broches permettant de piloter le moteur de droite afin de <strong>compléter</strong> votre programme pour faire avancer puis reculer le robot alternativement pour une durée de 2 secondes à vitesse "moyenne".</p>
<details class="success">
<summary>Solution de programme MicroPython</summary>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">microbit</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</code></pre></div>
</details>
</details>
<details class="example">
<summary>Application : tourner</summary>
<p><strong>Ajouter</strong> de nouvelles fonctions ou <strong>modifier</strong> les précédentes pour que votre robot puisse aussi tourner à droite comme à gauche selon un programme.</p>
<details class="success">
<summary>Solution de programme MicroPython</summary>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">microbit</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</code></pre></div>
</details>
</details>
<details class="question">
<summary>Que fait le programme ci-dessous ? L'expliquer en complétant les commentaires ...</summary>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">microbit</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># ...</span>
<span class="k">def</span><span class="w"> </span><span class="nf">piloter</span><span class="p">(</span><span class="n">gaughe</span><span class="p">,</span><span class="n">droite</span><span class="p">)</span> <span class="p">:</span>
    <span class="c1"># ...</span>
    <span class="n">pin8</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">pin12</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="c1"># ...</span>
    <span class="k">if</span> <span class="n">gauche</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">:</span>
        <span class="n">pin8</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">gauche</span> <span class="o">=</span> <span class="mi">1023</span> <span class="o">+</span> <span class="n">gauche</span>
    <span class="c1"># ...</span>
    <span class="k">if</span> <span class="n">droite</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">:</span>
        <span class="n">pin12</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">droite</span> <span class="o">=</span> <span class="mi">1023</span> <span class="o">+</span> <span class="n">droite</span>
    <span class="c1"># ...</span>
    <span class="n">pin0</span><span class="o">.</span><span class="n">write_analog</span><span class="p">(</span><span class="n">gauche</span><span class="p">)</span>
    <span class="n">pin1</span><span class="o">.</span><span class="n">write_analog</span><span class="p">(</span><span class="n">droite</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># ... </span>
    <span class="n">pilote</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">800</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="c1"># ...</span>
    <span class="n">pilote</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="c1"># ...</span>
    <span class="n">pilote</span><span class="p">(</span><span class="o">-</span><span class="mi">800</span><span class="p">,</span><span class="o">-</span><span class="mi">800</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="c1"># ... </span>
    <span class="n">pilote</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="c1"># ...</span>
    <span class="n">pilote</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">800</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="c1"># ...</span>
    <span class="n">pilote</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="c1"># ...</span>
    <span class="n">pilote</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</code></pre></div>
</details>
<h3 id="entree-logique">Entrée logique<a class="headerlink" href="#entree-logique" title="Permanent link">&num;</a></h3>
<details class="abstract" open="open">
<summary><strong>Tout Ou Rien (TOR), digital input</strong> : ...</summary>
<p>On peut connaitre l’état d’une entrée logique avec la méthode <code>read_digital()</code> qui retourne un entier égal à <code>0</code> si le niveau de tension sur l'entrée est bas ou <code>1</code> si le niveau de tension sur l'entrée est haut.</p>
<div class="highlight"><pre><span></span><code><span class="n">pinN</span><span class="o">.</span><span class="n">read_digital</span><span class="p">()</span>
</code></pre></div>
</details>
<details class="example" open="open">
<summary>Application : ...</summary>
<p><strong>Raccorder</strong> une LED sur la sortie P0 et <strong>programmer</strong> l'intensité de son allumage par paliers progressifs de sorte que quatres impulsions successives sur l'entrée A conduisent à l'éclairage maximal. Tandis qu'une impulsion sur le bouton B provoque l'extinction totale de la LED.</p>
<details class="tip">
<summary>Boutons poussoirs A et B : ...</summary>
<p>Les boutons poussoirs repérés A et B sur la carte BBC micro:bit sont raccordés respectivement aux broches 5 et 11.</p>
</details>
<details class="tip">
<summary>Variables : ... </summary>
<p>Les variables permettent de mémoriser et de faire évoluer des valeurs (ou des états) au cours d'un programme.</p>
<p>L'instruction suivante permet d'initialiser une variable, c'est à dire, la déclarer, lui affecter une valeur initiale et donc un type (int, str, float, bool, ...):</p>
<p><div class="highlight"><pre><span></span><code><span class="n">niveau</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># =&gt; type = integer</span>
</code></pre></div>
L'instruction <code>niveau += pas</code> est équivalente à l'instruction <code>niveau = niveau + pas</code> ce qui permet d'incrémenter (d'augmenter) la variable de la valeur d'un pas.</p>
</details>
<details class="tip">
<summary>Structures conditionnelles : ...</summary>
<div class="highlight"><pre><span></span><code>if condition_1 :
    instruction_1
elif condition_2 :
    instruction_2
else :
    instruction_3
</code></pre></div>
<p>Les instructions 1, 2 ou 3 ne seront exécutées que selon l'état vrai (True) ou faux (False) des conditions 1 ou 2.</p>
<details class="abstract">
<summary>Les opérateurs de comparaison permettent de faire des tests conditionnels : ...</summary>
<table>
<thead>
<tr>
<th>Symbole</th>
<th>Opération</th>
</tr>
</thead>
<tbody>
<tr>
<td>==</td>
<td>égal</td>
</tr>
<tr>
<td>!=</td>
<td>différent</td>
</tr>
<tr>
<td>&lt;</td>
<td>inférieur</td>
</tr>
<tr>
<td>&gt;</td>
<td>supérieur</td>
</tr>
<tr>
<td>&lt;=</td>
<td>inférieur ou égal</td>
</tr>
<tr>
<td>&gt;=</td>
<td>supérieur ou égal</td>
</tr>
</tbody>
</table>
</details>
<details class="abstract">
<summary>Les opérateurs booléens <code>and</code>, <code>or</code>, <code>not</code>, permettent de combiner des conditions : ...</summary>
</details>
</details>
<details class="success">
<summary>Solution de programme MicroPython</summary>
</details>
</details>
<h3 id="entree-analogique">Entrée analogique<a class="headerlink" href="#entree-analogique" title="Permanent link">&num;</a></h3>
<details class="abstract" open="open">
<summary><strong>Tout Ou Rien (TOR), digital input</strong> : ...</summary>
<p>Le microcontroleur du BBC micro:bit contient un Convertisseur Analogique Numérique (CAN), Analogue to Digital Converter (ADC) en Anglais, dont la résolution est de 10bits. Il convertit proportionnelement un niveau de tension variant de 0 à 3,3V en une valeur entière comprise entre 0 et 1023. La plus petite variation de tension que l'on peut mesurer est donc égale au <span class="arithmatex">\(quantum = {3,3 \over 1023} = 3,2 mV\)</span></p>
<p><center><img src="https://ericecmorlaix.github.io/img/CAN.svg" width="50%"></center></p>
<p>Le BBC micro:bit possède 6 broches sur lesquels on peut lire une valeur d'entrée analogique.</p>
<p>Elles sont représentés par les instances <code>pin0</code>, <code>pin1</code>, <code>pin2</code>, <code>pin3</code>, <code>pin4</code>, <code>pin10</code>.</p>
<p>La méthode <code>read_analog()</code> renvoie une valeur entière correspondante au niveau de tension mesuré :</p>
<div class="highlight"><pre><span></span><code><span class="n">pinN</span><span class="o">.</span><span class="n">read_analog</span><span class="p">()</span>
</code></pre></div>
</details>
<details class="example" open="open">
<summary>Application : ...</summary>
<p><strong>Raccorder</strong>  une LED sur la sortie P0 et un potentiomètre sur l'entrée P1 et <strong>programmer</strong> le niveau d'intensité lumineuse de la LED selon le réglage de la position du potentiomètre...</p>
<details class="success">
<summary>Solution de programme MicroPython</summary>
</details>
</details>
<h3 id="interface-homme-machine">Interface Homme Machine<a class="headerlink" href="#interface-homme-machine" title="Permanent link">&num;</a></h3>
<p>Une <a href="https://fr.wikipedia.org/wiki/Interactions_homme-machine" target="_blank">IHM</a> permet à l'utilisateur d'interagir avec un système.</p>
<h4 id="carte-bbc-microbit">Carte BBC micro:bit<a class="headerlink" href="#carte-bbc-microbit" title="Permanent link">&num;</a></h4>
<p>Ainsi, la carte BBC, peut, par exemple, recevoir des consignes via les boutons poussoirs A et B et communiquer des informations en les affichant sur la matrice de 25 LEDs...</p>
<details class="example">
<summary>Application : diriger un robot roulant</summary>
<p><strong>Enficher</strong> une carte BBC micro:bit dans un <a href="https://4tronix.co.uk/blog/?p=2317" target="_blank">Bit:Bot</a> ou un <a href="https://4tronix.co.uk/blog/?p=1832" target="_blank">Robot:Bit MK3</a> afin de <strong>programmer</strong> le robot pour qu'il avance en tournant à gauche si l'on appuie sur le bouton A, qu'il avance en tournant à droite si l'on appuie sur le bouton B, qu'il avance tout droit si l'on appuie à la fois sur les boutons A et B.</p>
<details class="tip">
<summary>Logique booléenne ...</summary>
</details>
</details>
<h4 id="manette">Manette<a class="headerlink" href="#manette" title="Permanent link">&num;</a></h4>
<p>Les extensions <a href="https://www.elecfreaks.com/learn-en/microbitExtensionModule/joystick_bit_v1.html?highlight=python%20programming" target="_blank">Joystick_bit</a> comme <a href="https://4tronix.co.uk/blog/?p=1734" target="_blank">Bit:Commander</a> permettent de recevoir une carte BBC micro:bit pour étendre ses fonctionnalitées d'IHM.</p>
<details class="question">
<summary>Que fait le programme ci-dessous ? L'expliquer en complétant les commentaires ...</summary>
<div class="highlight"><pre><span></span><code><span class="c1"># ...</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">microbit</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">music</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">neopixel</span>

<span class="c1"># ...</span>
<span class="n">leds_colorees</span> <span class="o">=</span> <span class="n">neopixel</span><span class="o">.</span><span class="n">NeoPixel</span><span class="p">(</span><span class="n">pin13</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

<span class="c1"># ... </span>
<span class="n">rouge</span> <span class="o">=</span> <span class="p">(</span><span class="mi">64</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">vert</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">bleu</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">64</span><span class="p">)</span>
<span class="n">noir</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># ... </span>
<span class="k">def</span><span class="w"> </span><span class="nf">allumer_toutes</span><span class="p">(</span><span class="n">couleur</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">led</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">leds_colorees</span><span class="p">)):</span>
        <span class="n">leds_colorees</span><span class="p">[</span><span class="n">led</span><span class="p">]</span> <span class="o">=</span> <span class="n">couleur</span>
    <span class="n">leds_colorees</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># ...  </span>
<span class="k">def</span><span class="w"> </span><span class="nf">balayer</span><span class="p">(</span><span class="n">couleur</span><span class="p">,</span> <span class="n">duree</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">led</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">leds_colorees</span><span class="p">)):</span>
        <span class="n">leds_colorees</span><span class="p">[</span><span class="n">led</span><span class="p">]</span> <span class="o">=</span> <span class="n">couleur</span>
        <span class="n">leds_colorees</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="n">sleep</span><span class="p">(</span><span class="n">duree</span><span class="p">)</span>

<span class="c1"># ...</span>
<span class="k">def</span><span class="w"> </span><span class="nf">lire_joystick</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">pin1</span><span class="o">.</span><span class="n">read_analog</span><span class="p">(),</span> <span class="n">pin2</span><span class="o">.</span><span class="n">read_analog</span><span class="p">(),</span> <span class="n">pin8</span><span class="o">.</span><span class="n">read_digital</span><span class="p">()</span>

<span class="c1"># ...</span>
<span class="k">def</span><span class="w"> </span><span class="nf">lire_pad</span><span class="p">():</span>
    <span class="c1"># rouge, bleu, vert, jaune</span>
    <span class="n">broches_pad</span> <span class="o">=</span> <span class="p">[</span><span class="n">pin12</span><span class="p">,</span><span class="n">pin15</span><span class="p">,</span><span class="n">pin14</span><span class="p">,</span><span class="n">pin16</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">broche</span><span class="o">.</span><span class="n">read_digital</span><span class="p">()</span> <span class="k">for</span> <span class="n">broche</span> <span class="ow">in</span> <span class="n">broches_pad</span><span class="p">]</span>

<span class="c1"># ...</span>
<span class="k">def</span><span class="w"> </span><span class="nf">lire_potentiometre</span><span class="p">():</span>    
    <span class="k">return</span> <span class="n">pin0</span><span class="o">.</span><span class="n">read_analog</span><span class="p">()</span>

<span class="c1"># ...</span>
<span class="k">def</span><span class="w"> </span><span class="nf">play_tune</span><span class="p">():</span>
    <span class="n">music</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">music</span><span class="o">.</span><span class="n">BADDY</span><span class="p">)</span>
    <span class="n">pin0</span><span class="o">.</span><span class="n">read_digital</span><span class="p">()</span>

<span class="c1"># ...    </span>
<span class="n">allumer_toutes</span><span class="p">(</span><span class="n">rouge</span><span class="p">)</span>

<span class="c1"># ...</span>
<span class="n">play_tune</span><span class="p">()</span>

<span class="c1"># ...</span>
<span class="n">balayer</span><span class="p">(</span><span class="n">bleu</span><span class="p">,</span><span class="mi">250</span><span class="p">)</span>

<span class="c1"># ...</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">j</span> <span class="o">=</span> <span class="n">lire_joystick</span><span class="p">()</span>
    <span class="n">boutons</span> <span class="o">=</span> <span class="n">lire_pad</span><span class="p">()</span>
    <span class="n">potentiel</span> <span class="o">=</span> <span class="n">lire_potentiometre</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">boutons</span><span class="p">,</span> <span class="n">potentiel</span><span class="p">)</span> <span class="c1"># Où peut-on visualiser cet affichage ?</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div>
</details>
<h3 id="communication-avec-bbc-microbit">Communication avec BBC micro:bit<a class="headerlink" href="#communication-avec-bbc-microbit" title="Permanent link">&num;</a></h3>
<p>Lorsqu'elle est programmée en MicroPython, la carte BBC micro:bit permet d'établir une communication filaire avec, par exemple, un PC via un moniteur série (application Putty) ou une console REPL (éditeur Mu).</p>
<p>Mais il est également possible d'établir une communication sans fil entre deux cartes BBC micro:bit avec le module <code>radio</code> de MicroPython.</p>
<h2 id="projet-de-robot">Projet de robot<a class="headerlink" href="#projet-de-robot" title="Permanent link">&num;</a></h2>
<details class="question">
<summary>Que font les deux programmes ci-dessous ? L'expliquer en complétant les commentaires ...</summary>
<div class="highlight"><pre><span></span><code><span class="c1"># Bit:Commander # ...</span>

<span class="c1"># ...</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">microbit</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">radio</span>

<span class="c1"># ...</span>
<span class="n">canal</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">radio</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">canal</span><span class="p">)</span>
<span class="n">radio</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>

<span class="c1"># ...</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">av</span> <span class="o">=</span> <span class="n">pin12</span><span class="o">.</span><span class="n">read_digital</span><span class="p">()</span>
    <span class="n">ar</span> <span class="o">=</span> <span class="n">pin14</span><span class="o">.</span><span class="n">read_digital</span><span class="p">()</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="n">pin1</span><span class="o">.</span><span class="n">read_analog</span><span class="p">()</span>    
    <span class="k">if</span>  <span class="n">av</span> <span class="ow">and</span> <span class="n">dx</span> <span class="o">&lt;</span> <span class="mi">150</span><span class="p">:</span>
        <span class="c1"># ...</span>
        <span class="n">display</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ARROW_NW</span><span class="p">)</span>
        <span class="n">radio</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;NO&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">av</span> <span class="ow">and</span> <span class="n">dx</span><span class="o">&gt;</span><span class="mi">850</span><span class="p">:</span>
        <span class="c1"># ...</span>
        <span class="n">display</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ARROW_NE</span><span class="p">)</span>
        <span class="n">radio</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;NE&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ar</span> <span class="ow">and</span> <span class="n">dx</span><span class="o">&lt;</span><span class="mi">150</span><span class="p">:</span>
        <span class="c1"># ... </span>
        <span class="n">display</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ARROW_SW</span><span class="p">)</span>
        <span class="n">radio</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;SO&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ar</span> <span class="ow">and</span> <span class="n">dx</span><span class="o">&gt;</span><span class="mi">850</span><span class="p">:</span>
        <span class="c1"># ... </span>
        <span class="n">display</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ARROW_SE</span><span class="p">)</span>
        <span class="n">radio</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;SE&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ar</span><span class="p">:</span>
        <span class="c1"># ...</span>
        <span class="n">display</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ARROW_S</span><span class="p">)</span>
        <span class="n">radio</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;S&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">av</span><span class="p">:</span>
        <span class="c1"># ...</span>
        <span class="n">display</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ARROW_N</span><span class="p">)</span>
        <span class="n">radio</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;N&quot;</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Bit:Bot ou Robo:Bit MK3 # ...</span>

<span class="c1"># ...</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">microbit</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">radio</span>

<span class="c1"># ...</span>
<span class="n">canal</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">radio</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">canal</span><span class="p">)</span>
<span class="n">radio</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>

<span class="c1"># ...</span>
<span class="k">def</span><span class="w"> </span><span class="nf">piloter</span><span class="p">(</span><span class="n">gauche</span><span class="p">,</span><span class="n">droite</span><span class="p">):</span>
    <span class="n">pin8</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">pin12</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">gauche</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">pin8</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">gauche</span> <span class="o">=</span> <span class="mi">1023</span> <span class="o">+</span> <span class="n">gauche</span>
    <span class="k">if</span> <span class="n">droite</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">droite</span> <span class="o">=</span> <span class="mi">1023</span> <span class="o">+</span> <span class="n">droite</span>
        <span class="n">pin12</span><span class="o">.</span><span class="n">write_digital</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">pin0</span><span class="o">.</span><span class="n">write_analog</span><span class="p">(</span><span class="n">gauche</span><span class="p">)</span>
    <span class="n">pin1</span><span class="o">.</span><span class="n">write_analog</span><span class="p">(</span><span class="n">droite</span><span class="p">)</span>

<span class="c1"># ...</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># ...</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">radio</span><span class="o">.</span><span class="n">receive</span><span class="p">()</span>

    <span class="c1"># ...</span>
    <span class="k">if</span> <span class="n">message</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">:</span>
        <span class="k">if</span> <span class="n">message</span> <span class="o">==</span> <span class="s2">&quot;N&quot;</span> <span class="p">:</span>
            <span class="n">piloter</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">800</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">message</span> <span class="o">==</span> <span class="s2">&quot;S&quot;</span> <span class="p">:</span>
            <span class="n">piloter</span><span class="p">(</span><span class="o">-</span><span class="mi">800</span><span class="p">,</span><span class="o">-</span><span class="mi">800</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">message</span>  <span class="o">==</span> <span class="s2">&quot;NE&quot;</span> <span class="p">:</span>
            <span class="n">piloter</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">message</span> <span class="o">==</span> <span class="s2">&quot;NO&quot;</span> <span class="p">:</span>
            <span class="n">piloter</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">800</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">message</span> <span class="o">==</span> <span class="s2">&quot;SE&quot;</span> <span class="p">:</span>
            <span class="n">piloter</span><span class="p">(</span><span class="o">-</span><span class="mi">800</span><span class="p">,</span><span class="o">-</span><span class="mi">200</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">message</span> <span class="o">==</span> <span class="s2">&quot;SO&quot;</span> <span class="p">:</span>
            <span class="n">piloter</span><span class="p">(</span><span class="o">-</span><span class="mi">200</span><span class="p">,</span><span class="o">-</span><span class="mi">800</span><span class="p">)</span>
    <span class="c1"># ...</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">piloter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div>
</details>
<h2 id="ressources">Ressources :<a class="headerlink" href="#ressources" title="Permanent link">&num;</a></h2>
<ul>
<li><a href="https://www.framboiseetcompagnie.fr/category/electronique/" target="_blank">Quelques bases d'électronique associées aux microcontroleurs</a></li>
</ul>
<!-- 

https://nsirennes.fr/os-archi/bbc-microbit/



CARTE JOYSTICK:BIT

Joystick:bit v2.0 de ELECTROFREAKS
pin2 : pin2.read_analog() détecte le bouton pressé
buttons = {2: "A", 517: "B", 686: "C", 769: "D", 853: "E", 820: "F", 1021 : "aucun"}
pin0 et pin1 donnent la position du joystick :
pin0.read_analog() sur X : 3~1021 et Xcentre = 529
pin1.read_analog() sur Y : 3~1021 et Ycentre = 506
/!\ Ces valeurs sont approximatives car elles varient d’une carte Joystick:bit à l’autre !

Tester la Joystick:bit

Les coordonnées du joystick
1
2
3
4
5
6
7
8
9
10
11
from microbit import *
import radio
#######################################
# TEST : JOYSTICK:BIT
while True:
    press = pin2.read_analog()
    print("bouton : "+ str(press))
    X = pin0.read_analog()
    Y = pin1.read_analog()
    print("joystick : "+str(X)+" , "+str(Y))
    sleep(100)
Emetteur radio (carte Joystick:bit)

from microbit import *
import radio

#######################################
# JOYSTICK:BIT
def button_press():
    press = pin2.read_analog()
    if press > 938:  # le plus fréquent car aucun bouton : press=1021
        return ""
    elif press < 256:
        return "A"
    elif press < 597:
        return "B"
    elif press < 725:
        return "C"
    elif press < 793:
        return "D"
    elif press < 836:
        return "F"
    else:
        return "E"

def joystick_push():
    # Par défaut : x = 529 (3~1021)   y = 506 (3~1022)
    # map (1~1023) to (-1022~1022)
    x = 2 * pin0.read_analog() - 1024
    y = 2 * pin1.read_analog() - 1024
    if -100 < x < 100:
        x = 0
    if -100 < y < 100:
        y = 0
    return x, y


radio.config(channel=7, group=0, queue=1, power=7)
radio.on()
while True:
    X, Y = joystick_push()       
    message = str(X) + "|" + str(Y) + "|" + button_press()
    radio.send(message)      # ex : "-700|400|"
Récepteur radio (carte motor:bit)

from microbit import *
import radio

###################################
# MOTOR:BIT   M1=gauche   M2=droite

def drive(vitesseX, vitesseY): # vitesse : -1023 ~ 1023
    if vitesseX < 0:
        vitesseX = - vitesseX
        pin8.write_digital(0)  # direction M1
    else:
        pin8.write_digital(1)  # direction M1

    if vitesseY < 0:
        vitesseY = - vitesseY
        pin12.write_digital(1)  # direction M2
    else:
        pin12.write_digital(0)  # direction M2

    if vitesseX > 900:
        vitesseX = 900
    if vitesseY > 900:
        vitesseY = 900
    pin1.write_analog(vitesseX) # vitesse M1
    pin2.write_analog(vitesseY) # vitesse M2


radio.config(channel=7, group=0, queue=1, power=7)
radio.on()
ancien_bouton = ""
while True:
    msg_recu = radio.receive()
    if msg_recu is not None:
        [joystickX, joystickY, bouton] = msg_recu.split("|")

        # moteur
        joystickX = int(joystickX)
        joystickY = int(joystickY)
        drive(joystickY + joystickX//3 , joystickY - joystickX//3)

        # bouton
        # /!\ redondances car un appui bref de btn A donne "A" "A" "A" "A"
        if bouton != ancien_bouton:
            # faire qqch
        ancien_bouton = bouton -->












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Document partagé par <a href="https://github.com/ericECmorlaix" target="_blank">Eric MADEC</a> &copy; 2024 sous licence <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.fr" target="_blank">CC BY-NC-SA 4.0</a> <br> Illustrations par <a href="https://undraw.co/" target="_blank">UnDraw</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="mailto:eric.madec@ecmorlaix.fr" target="_blank" rel="noopener" title="Pour toute question, suggestion ou commentaire, écrire à l&#39;auteur" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/ericECmorlaix/1SI_2024-2025" target="_blank" rel="noopener" title="dépôt github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.ecmorlaix.fr/nos-etablissements/lycee-notre-dame-du-mur/" target="_blank" rel="noopener" title="Lycée Notre Dame du Mur" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M337.8 5.4c-10.8-7.2-24.8-7.2-35.6 0L166.3 96H48c-26.5 0-48 21.5-48 48v320c0 26.5 21.5 48 48 48h208v-96c0-35.3 28.7-64 64-64s64 28.7 64 64v96h208c26.5 0 48-21.5 48-48V144c0-26.5-21.5-48-48-48H473.7zM96 192h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16v-64c0-8.8 7.2-16 16-16m400 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16zM96 320h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16v-64c0-8.8 7.2-16 16-16m400 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16zM232 176a88 88 0 1 1 176 0 88 88 0 1 1-176 0m88-48c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16h-16v-16c0-8.8-7.2-16-16-16"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.expand", "navigation.top", "toc.integrate", "header.autohide"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../javascripts/config.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>